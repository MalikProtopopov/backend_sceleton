# =============================================================================
# Production Environment Configuration
# =============================================================================
# IMPORTANT: Copy this file to .env.prod and replace ALL values marked with
# CHANGE_ME or <...> with your actual production values!
#
# Generate secure passwords:
#   openssl rand -hex 32      # For JWT secret
#   openssl rand -base64 24   # For database/redis passwords
# =============================================================================

# Application
APP_NAME="Corporate CMS Engine"
APP_VERSION="1.0.0"
ENVIRONMENT=production
DEBUG=false
API_PREFIX=/api/v1

# Server
HOST=0.0.0.0
PORT=8000

# =============================================================================
# Domain Configuration
# =============================================================================
# Your domain name (without protocol)
DOMAIN=CHANGE_ME_example.com

# Public API URL (used for webhook URLs, must be HTTPS)
PUBLIC_API_URL=https://api.CHANGE_ME_example.com

# =============================================================================
# Database
# =============================================================================
# PostgreSQL password - MUST CHANGE!
POSTGRES_USER=cms_user
POSTGRES_PASSWORD=CHANGE_ME_generate_secure_password
POSTGRES_DB=cms_db

# Connection URL (use the password from above)
DATABASE_URL=postgresql+asyncpg://cms_user:CHANGE_ME_generate_secure_password@postgres:5432/cms_db
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_ECHO=false

# =============================================================================
# Redis
# =============================================================================
# Redis password - MUST CHANGE!
REDIS_PASSWORD=CHANGE_ME_generate_secure_password

# Redis URL (use the password from above)
REDIS_URL=redis://:CHANGE_ME_generate_secure_password@redis:6379/0

# =============================================================================
# JWT Security
# =============================================================================
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY=CHANGE_ME_generate_with_openssl_rand_hex_32
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# CORS
# =============================================================================
# Add your frontend domains (admin panel and client frontend)
# Format: comma-separated list of origins
CORS_ORIGINS=https://admin.CHANGE_ME_example.com,https://www.CHANGE_ME_example.com,https://CHANGE_ME_example.com

# =============================================================================
# S3 Storage
# =============================================================================
# Configure your S3-compatible storage provider
# Examples: Selectel, AWS S3, Yandex Cloud, MinIO

# For Selectel:
# S3_ENDPOINT_URL=https://s3.storage.selcloud.ru

# For AWS S3:
# S3_ENDPOINT_URL=https://s3.amazonaws.com

# For Yandex Cloud:
# S3_ENDPOINT_URL=https://storage.yandexcloud.net

S3_ENDPOINT_URL=CHANGE_ME_your_s3_endpoint
S3_ACCESS_KEY=CHANGE_ME_your_access_key
S3_SECRET_KEY=CHANGE_ME_your_secret_key
S3_BUCKET_NAME=cms-assets
S3_REGION=us-east-1

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60
RATE_LIMIT_LOGIN_REQUESTS=5
RATE_LIMIT_LOGIN_WINDOW_SECONDS=300
RATE_LIMIT_INQUIRY_REQUESTS=3
RATE_LIMIT_INQUIRY_WINDOW_SECONDS=60

# =============================================================================
# Email
# =============================================================================
# Provider: sendgrid, mailgun, smtp, or console
EMAIL_PROVIDER=console
EMAIL_API_KEY=CHANGE_ME_if_using_sendgrid_or_mailgun
EMAIL_FROM_ADDRESS=noreply@CHANGE_ME_example.com
EMAIL_FROM_NAME=Corporate CMS

# For SMTP:
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your_smtp_user
# SMTP_PASSWORD=your_smtp_password

# =============================================================================
# Telegram Notifications (Optional)
# =============================================================================
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# =============================================================================
# Encryption
# =============================================================================
# Generate with: python -c 'from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())'
ENCRYPTION_KEY=CHANGE_ME_generate_fernet_key

# =============================================================================
# Logging
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# =============================================================================
# Tenant Configuration
# =============================================================================
SINGLE_TENANT_MODE=true
DEFAULT_TENANT_SLUG=main
DEFAULT_TENANT_NAME=Main Site

# =============================================================================
# SSL/Certbot
# =============================================================================
# Email for Let's Encrypt notifications
CERTBOT_EMAIL=CHANGE_ME_admin@example.com

# =============================================================================
# MinIO (if using self-hosted S3)
# =============================================================================
# Only needed if you're using MinIO instead of external S3
# MINIO_ROOT_USER=minioadmin
# MINIO_ROOT_PASSWORD=CHANGE_ME_secure_password

